<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrolling Webpage with GSAP</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        section {
            min-height: 100vh;
            padding: 2rem;
            box-sizing: border-box;
        }
        #section1, #section3 {
            background-color: #f0f0f0;
        }
        #section2 {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ffffff;
        }
        .text-content {
            width: 45%;
        }
        .phone-container {
            width: 45%;
            height: 600px;
            position: relative;
        }
        .phone-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .phone-screen.active {
            opacity: 1;
        }
    </style>
</head>
<body>
    <section id="section1">
        <h2>Section 1</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc.</p>
        <p>Praesent euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc.</p>
        <p>Donec euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc.</p>
    </section>

    <section id="section2">
        <div class="text-content">
            <h2 id="screen-title">Screen 1 Title</h2>
            <p id="screen-description">Description for Screen 1</p>
        </div>
        <div class="phone-container">
            <img src="/api/placeholder/300/600" alt="Phone 1" class="phone-screen active" data-screen="1">
            <img src="/api/placeholder/300/600" alt="Phone 2" class="phone-screen" data-screen="2">
            <img src="/api/placeholder/300/600" alt="Phone 3" class="phone-screen" data-screen="3">
        </div>
    </section>

    <section id="section3">
        <h2>Section 3</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc.</p>
        <p>Praesent euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc.</p>
        <p>Donec euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc. Sed euismod, nunc id aliquam tincidunt, nisi nunc tincidunt nunc, nec tincidunt nunc nunc id nunc.</p>
    </section>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const screenContent = [
            { title: "Screen 1 Title", description: "Description for Screen 1" },
            { title: "Screen 2 Title", description: "Description for Screen 2" },
            { title: "Screen 3 Title", description: "Description for Screen 3" }
        ];

        function updateContent(index) {
            document.getElementById('screen-title').textContent = screenContent[index].title;
            document.getElementById('screen-description').textContent = screenContent[index].description;
        }

        function updatePhoneScreen(index) {
            const screens = document.querySelectorAll('.phone-screen');
            screens.forEach((screen, i) => {
                if (i === index) {
                    screen.classList.add('active');
                } else {
                    screen.classList.remove('active');
                }
            });
        }

        gsap.to('#section2', {
            scrollTrigger: {
                trigger: '#section2',
                start: 'top top',
                end: 'bottom bottom',
                pin: true,
                pinSpacing: true,
                scrub: true,
                onUpdate: (self) => {
                    const progress = self.progress;
                    const index = Math.floor(progress * 3);
                    updateContent(Math.min(index, 2));
                    updatePhoneScreen(Math.min(index, 2));
                }
            }
        });
    </script>
</body>
</html>
